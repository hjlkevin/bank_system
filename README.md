# 简易银行系统

一个功能完善的银行系统，允许用户创建账户、存取款、转账以及保存/加载账户数据。提供命令行和图形用户界面两种使用方式。

## 功能特点

- 创建银行账户，包含姓名和初始余额
- 向账户存款
- 从账户取款（带透支保护）
- 在账户之间转账
- 将系统状态保存到/从CSV文件加载
- 简单的命令行界面
- 美观的图形用户界面
- 支持命令行与图形界面之间切换

## 系统要求

- Python 3.6+
- 图形界面需要tkinter库（Python标准库的一部分）
- 无需其他外部依赖/包（仅使用Python标准库）

## 设置和安装

1. 克隆此仓库或下载源代码。

```bash
git clone https://github.com/yourusername/simple-banking-system.git
cd simple-banking-system
```

2. 确保您安装了Python 3.6或更高版本：

```bash
python --version
```

3. 由于项目仅使用Python标准库，无需额外的安装步骤。

## 运行应用程序

### 命令行界面

要启动命令行版本的银行系统，请运行：

```bash
python main.py
```

要使用示例账户初始化系统，请运行：

```bash
python main.py --sample
```

### 图形用户界面

要直接启动图形界面版本，请运行：

```bash
python bank_ui.py
```

您也可以从命令行界面中选择"0"选项切换到图形界面。

## 使用方法

### 命令行界面

该银行系统提供菜单驱动界面，具有以下选项：

1. **创建新账户** - 创建具有唯一ID、所有者姓名和可选初始余额的账户
2. **查看账户详情** - 通过ID查看特定账户的详情
3. **列出所有账户** - 查看系统中所有账户的摘要
4. **存款** - 向账户添加资金
5. **取款** - 从账户中取出资金（带透支保护）
6. **转账** - 在账户之间转移资金
7. **保存账户到文件** - 将所有账户数据导出到CSV文件
8. **从文件加载账户** - 从CSV文件导入账户数据
9. **退出程序** - 关闭应用程序（会提示确认）
0. **切换到图形界面** - 从命令行切换到图形用户界面

### 图形用户界面

图形界面提供相同的功能，但通过更易用的窗口化界面呈现：

- 主菜单包含所有操作的按钮
- 每个操作都会打开专门的对话框
- 账户列表以表格形式展示
- 表单验证和错误提示
- 状态栏显示最近操作

## 测试

项目包含使用Python内置的`unittest`框架的全面测试套件。要运行测试：

```bash
python -m unittest test_banking_system.py
```

## 数据存储

账户数据以CSV格式存储，包含以下列：
- `account_id` - 账户的唯一标识符
- `owner_name` - 账户所有者的姓名
- `balance` - 当前账户余额

CSV内容示例：
```
account_id,owner_name,balance
1,张三,1000.00
2,李四,500.00
```

## 设计说明

- 使用`Decimal`类型处理货币值，避免浮点精度问题
- 实现透支保护，防止导致负余额的取款
- 所有操作返回成功/错误元组，提供清晰的反馈
- 将核心银行逻辑与用户界面分离，支持多种界面
- 图形界面使用tkinter库，提供美观的用户体验

## 项目结构

- `banking_system.py` - 核心银行系统实现（BankAccount和BankingSystem类）
- `main.py` - 命令行界面和用户交互
- `bank_ui.py` - 图形用户界面实现
- `test_banking_system.py` - 核心功能的测试套件
- `README.md` - 文档 